jQuery(document).ready(function(){jQuery("form#post, form#kt-custom-page-screen, #edittag").submit(function(){jQuery("#jquery-kt-validator").remove();var e=jQuery(this).formValidation();var d='<div id="jquery-kt-validator" class="error"><p>Ve formuláři se vyskytla chyba. Zkontrolujte data a proces opakujte.</p></div>';if(e===false){jQuery("div.wrap h2.screenTitle").after(d)}return e});jQuery("table.kt-form-table input").blur(function(){jQuery(this).next("div").find("span.erorr-s").delay(500).fadeOut(400)});jQuery("#addtag #submit").click(function(){jQuery("form .validator").remove();jQuery(this).parents("form").formValidation()});jQuery(".switch").each(function(){var e=jQuery(this).children("input[type=hidden]");var d=jQuery(this).children("span.switch-toggle");if(e.length){e.addClass("hidden");d.removeClass("hidden");if(e.val()=="1"){d.addClass("on");d.removeClass("off")}else{d.addClass("off");d.removeClass("on")}}});jQuery(".kt-field").tooltip();jQuery(".kt-tooltip").tooltip();jQuery("body").tooltip({selector:"div.chosen-container"});jQuery("body").on("click",".switch-toggle",function(){var f=jQuery(this);var e=f.next("input[type=hidden]");var d=f;c(e,d)});jQuery(".datapicker").datepicker({dateFormat:"dd.mm.yy",dayNames:["Neděle","Pondělí","Úterý","Sřteda","Čtvrtek","Pátek","Sobota"],dayNamesMin:["Ne","Po","Út","St","Čt","Pá","So"],monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthNamesShort:["Led","Úno","Bře","Dub","Kvě","Čer","Červ","Srp","Zář","Říj","Lis","Pro"],nextText:"Další",prevText:"Předchozí"});jQuery("table.item-list span.delete-row").click(function(){if(confirm("Chcete opravdu trvale smazat tento záznam?")){var e=jQuery(this).attr("data-id");var d=jQuery("table.item-list tr#row-"+e);d.css("background-color","red");data={action:"kt_delete_row_from_table_list",type:jQuery(this).attr("data-type"),rowId:e};jQuery.post(ajaxurl,data,function(f){d.fadeOut(500,"",function(){jQuery(this).remove()})})}});jQuery("body").on("click",".edit-crud-switch-list-field",function(){var d=jQuery("#"+jQuery(this).attr("for"));data={action:"kt_edit_crud_list_switch_field",type:d.data("item-type"),rowId:d.data("item-id"),columnName:d.data("column-name"),value:d.val()};jQuery.post(ajaxurl,data,function(e){if(e===1){c(d,jQuery(this))}})});jQuery("body").on("click",".kt-file-loader",function(j){var h=jQuery(this).attr("id");var g=jQuery(this);var k="";var f="";var d=[];var i;if(jQuery(this).data("multiple")==true){i=true}else{i=false}wp.media.editor.send.attachment=function(l,m){var e=m.id;if(m.type==="image"){if(m.sizes.thumbnail){f=m.sizes.thumbnail.url}else{f=m.sizes.full.url}k+='<img class="file" data-id="'+e+'" src="'+f+'">'}else{k+='<span class="file" data-id="'+e+'">'+m.title+"</span>"}k+='<a class="remove-file" data-id="'+e+'"><span class="dashicons dashicons-no"></span></a>';d.push(e);jQuery("."+h).html(k);jQuery("#"+h).val(d)};wp.media.editor.open(g,{multiple:i});return false});jQuery("body").on("click",".remove-file",function(i){var h=jQuery(this);jQuery(this).prev(".file").fadeOut(300,function(){jQuery(this).remove();h.remove()});var f=jQuery(this).data("id").toString();var d=jQuery(this).parents(".file-load-box").find("input").val().toString().split(",");var g=jQuery.grep(d,function(e){return e!=f});jQuery(this).parents(".file-load-box").find("input").val(g)});function c(e,d){if(e.val()=="1"){d.addClass("off");d.removeClass("on");e.attr("value","0")}else{d.addClass("on");d.removeClass("off");e.attr("value","1")}}var b=function(f,d){d.children().each(function(){jQuery(this).width(jQuery(this).width())});return d};var a=function(i,h){var d=jQuery("table[data-sortable='true'] tbody");var g={};var f=d.parent("table").data("class-name");d.find("tr").each(function(e){g[e]=jQuery(this).data("item-id")});data={action:"kt_edit_sorting_crud_list",data:g,class_name:f};jQuery.post(ajaxurl,data)};if(jQuery("table[data-sortable='true'] tbody").length>0){jQuery("table[data-sortable='true'] tbody").sortable({helper:b,stop:a,}).disableSelection()}jQuery(".sliderInputElement").each(function(){var h=jQuery(this);var e=h.find("input");var f=h.data("min");var d=h.data("max");var g=h.data("step");var i=f;if(e.val()!=f){i=e.val()}jQuery(this).find("input").addClass("hidden");jQuery(this).slider({range:false,step:g,min:f,max:d,value:i,slide:function(k,l){var j=h.parent("div.sliderContainer");j.find(".ui-slider-handle").text(l.value);h.find("input.inputMin").val(l.value)},create:function(j,k){jQuery(this).find(".ui-slider-handle").text(i)}})});jQuery(".multiSelect").chosen({disable_search_threshold:10,no_results_text:"Žádné výsledky pro",placeholder_text_multiple:"Prázdný výběr",placeholder_text_single:"Prázdný výběr",width:"90%"});jQuery(".singleSelect").chosen({no_results_text:"Žádné výsledky pro",placeholder_text_single:"Prázdný výběr",width:"90%"});jQuery(".singleSelectDeselect").chosen({allow_single_deselect:true,no_results_text:"Žádné výsledky pro",placeholder_text_single:"Prázdný výběr",width:"90%"});jQuery("#ktCookieStatementConfirm").click(function(){var d=new Date();d.setFullYear(d.getFullYear()+10);document.cookie="kt-cookie-statement-key=1; path=/; expires="+d.toGMTString();jQuery("#ktCookieStatement").fadeOut()})});